// Extensions
import { Service } from '../service';
export class Breakpoint extends Service {
    constructor(preset) {
        super();
        // Public
        this.xs = false;
        this.sm = false;
        this.md = false;
        this.lg = false;
        this.xl = false;
        this.xsOnly = false;
        this.smOnly = false;
        this.smAndDown = false;
        this.smAndUp = false;
        this.mdOnly = false;
        this.mdAndDown = false;
        this.mdAndUp = false;
        this.lgOnly = false;
        this.lgAndDown = false;
        this.lgAndUp = false;
        this.xlOnly = false;
        this.name = '';
        this.height = 0;
        this.width = 0;
        this.resizeTimeout = 0;
        const { scrollBarWidth, thresholds, } = preset[Breakpoint.property];
        this.scrollBarWidth = scrollBarWidth;
        this.thresholds = thresholds;
        this.init();
    }
    init() {
        /* istanbul ignore if */
        if (typeof window === 'undefined')
            return;
        window.addEventListener('resize', this.onResize.bind(this), { passive: true });
        this.update();
    }
    onResize() {
        clearTimeout(this.resizeTimeout);
        // Added debounce to match what
        // v-resize used to do but was
        // removed due to a memory leak
        // https://github.com/vuetifyjs/vuetify/pull/2997
        this.resizeTimeout = window.setTimeout(this.update.bind(this), 200);
    }
    /* eslint-disable-next-line max-statements */
    update() {
        const height = this.getClientHeight();
        const width = this.getClientWidth();
        const xs = width < this.thresholds.xs;
        const sm = width < this.thresholds.sm && !xs;
        const md = width < (this.thresholds.md - this.scrollBarWidth) && !(sm || xs);
        const lg = width < (this.thresholds.lg - this.scrollBarWidth) && !(md || sm || xs);
        const xl = width >= (this.thresholds.lg - this.scrollBarWidth);
        this.height = height;
        this.width = width;
        this.xs = xs;
        this.sm = sm;
        this.md = md;
        this.lg = lg;
        this.xl = xl;
        this.xsOnly = xs;
        this.smOnly = sm;
        this.smAndDown = (xs || sm) && !(md || lg || xl);
        this.smAndUp = !xs && (sm || md || lg || xl);
        this.mdOnly = md;
        this.mdAndDown = (xs || sm || md) && !(lg || xl);
        this.mdAndUp = !(xs || sm) && (md || lg || xl);
        this.lgOnly = lg;
        this.lgAndDown = (xs || sm || md || lg) && !xl;
        this.lgAndUp = !(xs || sm || md) && (lg || xl);
        this.xlOnly = xl;
        switch (true) {
            case (xs):
                this.name = 'xs';
                break;
            case (sm):
                this.name = 'sm';
                break;
            case (md):
                this.name = 'md';
                break;
            case (lg):
                this.name = 'lg';
                break;
            default:
                this.name = 'xl';
                break;
        }
    }
    // Cross-browser support as described in:
    // https://stackoverflow.com/questions/1248081
    getClientWidth() {
        /* istanbul ignore if */
        if (typeof document === 'undefined')
            return 0; // SSR
        return Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
    }
    getClientHeight() {
        /* istanbul ignore if */
        if (typeof document === 'undefined')
            return 0; // SSR
        return Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
    }
}
Breakpoint.property = 'breakpoint';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2VydmljZXMvYnJlYWtwb2ludC9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxhQUFhO0FBQ2IsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLFlBQVksQ0FBQTtBQU1wQyxNQUFNLE9BQU8sVUFBVyxTQUFRLE9BQU87SUFnRHJDLFlBQWEsTUFBcUI7UUFDaEMsS0FBSyxFQUFFLENBQUE7UUE5Q1QsU0FBUztRQUNGLE9BQUUsR0FBRyxLQUFLLENBQUE7UUFFVixPQUFFLEdBQUcsS0FBSyxDQUFBO1FBRVYsT0FBRSxHQUFHLEtBQUssQ0FBQTtRQUVWLE9BQUUsR0FBRyxLQUFLLENBQUE7UUFFVixPQUFFLEdBQUcsS0FBSyxDQUFBO1FBRVYsV0FBTSxHQUFHLEtBQUssQ0FBQTtRQUVkLFdBQU0sR0FBRyxLQUFLLENBQUE7UUFFZCxjQUFTLEdBQUcsS0FBSyxDQUFBO1FBRWpCLFlBQU8sR0FBRyxLQUFLLENBQUE7UUFFZixXQUFNLEdBQUcsS0FBSyxDQUFBO1FBRWQsY0FBUyxHQUFHLEtBQUssQ0FBQTtRQUVqQixZQUFPLEdBQUcsS0FBSyxDQUFBO1FBRWYsV0FBTSxHQUFHLEtBQUssQ0FBQTtRQUVkLGNBQVMsR0FBRyxLQUFLLENBQUE7UUFFakIsWUFBTyxHQUFHLEtBQUssQ0FBQTtRQUVmLFdBQU0sR0FBRyxLQUFLLENBQUE7UUFFZCxTQUFJLEdBQUcsRUFBRSxDQUFBO1FBRVQsV0FBTSxHQUFHLENBQUMsQ0FBQTtRQUVWLFVBQUssR0FBRyxDQUFDLENBQUE7UUFNUixrQkFBYSxHQUFHLENBQUMsQ0FBQTtRQUt2QixNQUFNLEVBQ0osY0FBYyxFQUNkLFVBQVUsR0FDWCxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUE7UUFFL0IsSUFBSSxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUE7UUFDcEMsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUE7UUFFNUIsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFBO0lBQ2IsQ0FBQztJQUVNLElBQUk7UUFDVCx3QkFBd0I7UUFDeEIsSUFBSSxPQUFPLE1BQU0sS0FBSyxXQUFXO1lBQUUsT0FBTTtRQUV6QyxNQUFNLENBQUMsZ0JBQWdCLENBQ3JCLFFBQVEsRUFDUixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFDeEIsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQ2xCLENBQUE7UUFFRCxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUE7SUFDZixDQUFDO0lBRU8sUUFBUTtRQUNkLFlBQVksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUE7UUFFaEMsK0JBQStCO1FBQy9CLDhCQUE4QjtRQUM5QiwrQkFBK0I7UUFDL0IsaURBQWlEO1FBQ2pELElBQUksQ0FBQyxhQUFhLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQTtJQUNyRSxDQUFDO0lBRUQsNkNBQTZDO0lBQ3JDLE1BQU07UUFDWixNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUE7UUFDckMsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFBO1FBRW5DLE1BQU0sRUFBRSxHQUFHLEtBQUssR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQTtRQUNyQyxNQUFNLEVBQUUsR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUE7UUFDNUMsTUFBTSxFQUFFLEdBQUcsS0FBSyxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUE7UUFDNUUsTUFBTSxFQUFFLEdBQUcsS0FBSyxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFBO1FBQ2xGLE1BQU0sRUFBRSxHQUFHLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQTtRQUU5RCxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQTtRQUNwQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQTtRQUVsQixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQTtRQUNaLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFBO1FBQ1osSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUE7UUFDWixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQTtRQUNaLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFBO1FBRVosSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUE7UUFDaEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUE7UUFDaEIsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQTtRQUNoRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUE7UUFDNUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUE7UUFDaEIsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQTtRQUNoRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFBO1FBQzlDLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFBO1FBQ2hCLElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQTtRQUM5QyxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFBO1FBQzlDLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFBO1FBRWhCLFFBQVEsSUFBSSxFQUFFO1lBQ1osS0FBSyxDQUFDLEVBQUUsQ0FBQztnQkFDUCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQTtnQkFDaEIsTUFBSztZQUNQLEtBQUssQ0FBQyxFQUFFLENBQUM7Z0JBQ1AsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUE7Z0JBQ2hCLE1BQUs7WUFDUCxLQUFLLENBQUMsRUFBRSxDQUFDO2dCQUNQLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFBO2dCQUNoQixNQUFLO1lBQ1AsS0FBSyxDQUFDLEVBQUUsQ0FBQztnQkFDUCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQTtnQkFDaEIsTUFBSztZQUNQO2dCQUNFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFBO2dCQUNoQixNQUFLO1NBQ1I7SUFDSCxDQUFDO0lBRUQseUNBQXlDO0lBQ3pDLDhDQUE4QztJQUN0QyxjQUFjO1FBQ3BCLHdCQUF3QjtRQUN4QixJQUFJLE9BQU8sUUFBUSxLQUFLLFdBQVc7WUFBRSxPQUFPLENBQUMsQ0FBQSxDQUFDLE1BQU07UUFDcEQsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUNiLFFBQVEsQ0FBQyxlQUFnQixDQUFDLFdBQVcsRUFDckMsTUFBTSxDQUFDLFVBQVUsSUFBSSxDQUFDLENBQ3ZCLENBQUE7SUFDSCxDQUFDO0lBRU8sZUFBZTtRQUNyQix3QkFBd0I7UUFDeEIsSUFBSSxPQUFPLFFBQVEsS0FBSyxXQUFXO1lBQUUsT0FBTyxDQUFDLENBQUEsQ0FBQyxNQUFNO1FBQ3BELE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FDYixRQUFRLENBQUMsZUFBZ0IsQ0FBQyxZQUFZLEVBQ3RDLE1BQU0sQ0FBQyxXQUFXLElBQUksQ0FBQyxDQUN4QixDQUFBO0lBQ0gsQ0FBQzs7QUF6SmEsbUJBQVEsR0FBaUIsWUFBWSxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLy8gRXh0ZW5zaW9uc1xuaW1wb3J0IHsgU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2UnXG5cbi8vIFR5cGVzXG5pbXBvcnQgeyBWdWV0aWZ5UHJlc2V0IH0gZnJvbSAndnVldGlmeS90eXBlcy9zZXJ2aWNlcy9wcmVzZXRzJ1xuaW1wb3J0IHsgQnJlYWtwb2ludCBhcyBJQnJlYWtwb2ludCB9IGZyb20gJ3Z1ZXRpZnkvdHlwZXMvc2VydmljZXMvYnJlYWtwb2ludCdcblxuZXhwb3J0IGNsYXNzIEJyZWFrcG9pbnQgZXh0ZW5kcyBTZXJ2aWNlIGltcGxlbWVudHMgSUJyZWFrcG9pbnQge1xuICBwdWJsaWMgc3RhdGljIHByb3BlcnR5OiAnYnJlYWtwb2ludCcgPSAnYnJlYWtwb2ludCdcblxuICAvLyBQdWJsaWNcbiAgcHVibGljIHhzID0gZmFsc2VcblxuICBwdWJsaWMgc20gPSBmYWxzZVxuXG4gIHB1YmxpYyBtZCA9IGZhbHNlXG5cbiAgcHVibGljIGxnID0gZmFsc2VcblxuICBwdWJsaWMgeGwgPSBmYWxzZVxuXG4gIHB1YmxpYyB4c09ubHkgPSBmYWxzZVxuXG4gIHB1YmxpYyBzbU9ubHkgPSBmYWxzZVxuXG4gIHB1YmxpYyBzbUFuZERvd24gPSBmYWxzZVxuXG4gIHB1YmxpYyBzbUFuZFVwID0gZmFsc2VcblxuICBwdWJsaWMgbWRPbmx5ID0gZmFsc2VcblxuICBwdWJsaWMgbWRBbmREb3duID0gZmFsc2VcblxuICBwdWJsaWMgbWRBbmRVcCA9IGZhbHNlXG5cbiAgcHVibGljIGxnT25seSA9IGZhbHNlXG5cbiAgcHVibGljIGxnQW5kRG93biA9IGZhbHNlXG5cbiAgcHVibGljIGxnQW5kVXAgPSBmYWxzZVxuXG4gIHB1YmxpYyB4bE9ubHkgPSBmYWxzZVxuXG4gIHB1YmxpYyBuYW1lID0gJydcblxuICBwdWJsaWMgaGVpZ2h0ID0gMFxuXG4gIHB1YmxpYyB3aWR0aCA9IDBcblxuICBwdWJsaWMgdGhyZXNob2xkczogSUJyZWFrcG9pbnRbJ3RocmVzaG9sZHMnXVxuXG4gIHB1YmxpYyBzY3JvbGxCYXJXaWR0aDogSUJyZWFrcG9pbnRbJ3Njcm9sbEJhcldpZHRoJ11cblxuICBwcml2YXRlIHJlc2l6ZVRpbWVvdXQgPSAwXG5cbiAgY29uc3RydWN0b3IgKHByZXNldDogVnVldGlmeVByZXNldCkge1xuICAgIHN1cGVyKClcblxuICAgIGNvbnN0IHtcbiAgICAgIHNjcm9sbEJhcldpZHRoLFxuICAgICAgdGhyZXNob2xkcyxcbiAgICB9ID0gcHJlc2V0W0JyZWFrcG9pbnQucHJvcGVydHldXG5cbiAgICB0aGlzLnNjcm9sbEJhcldpZHRoID0gc2Nyb2xsQmFyV2lkdGhcbiAgICB0aGlzLnRocmVzaG9sZHMgPSB0aHJlc2hvbGRzXG5cbiAgICB0aGlzLmluaXQoKVxuICB9XG5cbiAgcHVibGljIGluaXQgKCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuXG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICdyZXNpemUnLFxuICAgICAgdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgeyBwYXNzaXZlOiB0cnVlIH1cbiAgICApXG5cbiAgICB0aGlzLnVwZGF0ZSgpXG4gIH1cblxuICBwcml2YXRlIG9uUmVzaXplICgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5yZXNpemVUaW1lb3V0KVxuXG4gICAgLy8gQWRkZWQgZGVib3VuY2UgdG8gbWF0Y2ggd2hhdFxuICAgIC8vIHYtcmVzaXplIHVzZWQgdG8gZG8gYnV0IHdhc1xuICAgIC8vIHJlbW92ZWQgZHVlIHRvIGEgbWVtb3J5IGxlYWtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVldGlmeWpzL3Z1ZXRpZnkvcHVsbC8yOTk3XG4gICAgdGhpcy5yZXNpemVUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQodGhpcy51cGRhdGUuYmluZCh0aGlzKSwgMjAwKVxuICB9XG5cbiAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1zdGF0ZW1lbnRzICovXG4gIHByaXZhdGUgdXBkYXRlICgpIHtcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmdldENsaWVudEhlaWdodCgpXG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLmdldENsaWVudFdpZHRoKClcblxuICAgIGNvbnN0IHhzID0gd2lkdGggPCB0aGlzLnRocmVzaG9sZHMueHNcbiAgICBjb25zdCBzbSA9IHdpZHRoIDwgdGhpcy50aHJlc2hvbGRzLnNtICYmICF4c1xuICAgIGNvbnN0IG1kID0gd2lkdGggPCAodGhpcy50aHJlc2hvbGRzLm1kIC0gdGhpcy5zY3JvbGxCYXJXaWR0aCkgJiYgIShzbSB8fCB4cylcbiAgICBjb25zdCBsZyA9IHdpZHRoIDwgKHRoaXMudGhyZXNob2xkcy5sZyAtIHRoaXMuc2Nyb2xsQmFyV2lkdGgpICYmICEobWQgfHwgc20gfHwgeHMpXG4gICAgY29uc3QgeGwgPSB3aWR0aCA+PSAodGhpcy50aHJlc2hvbGRzLmxnIC0gdGhpcy5zY3JvbGxCYXJXaWR0aClcblxuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoXG5cbiAgICB0aGlzLnhzID0geHNcbiAgICB0aGlzLnNtID0gc21cbiAgICB0aGlzLm1kID0gbWRcbiAgICB0aGlzLmxnID0gbGdcbiAgICB0aGlzLnhsID0geGxcblxuICAgIHRoaXMueHNPbmx5ID0geHNcbiAgICB0aGlzLnNtT25seSA9IHNtXG4gICAgdGhpcy5zbUFuZERvd24gPSAoeHMgfHwgc20pICYmICEobWQgfHwgbGcgfHwgeGwpXG4gICAgdGhpcy5zbUFuZFVwID0gIXhzICYmIChzbSB8fCBtZCB8fCBsZyB8fCB4bClcbiAgICB0aGlzLm1kT25seSA9IG1kXG4gICAgdGhpcy5tZEFuZERvd24gPSAoeHMgfHwgc20gfHwgbWQpICYmICEobGcgfHwgeGwpXG4gICAgdGhpcy5tZEFuZFVwID0gISh4cyB8fCBzbSkgJiYgKG1kIHx8IGxnIHx8IHhsKVxuICAgIHRoaXMubGdPbmx5ID0gbGdcbiAgICB0aGlzLmxnQW5kRG93biA9ICh4cyB8fCBzbSB8fCBtZCB8fCBsZykgJiYgIXhsXG4gICAgdGhpcy5sZ0FuZFVwID0gISh4cyB8fCBzbSB8fCBtZCkgJiYgKGxnIHx8IHhsKVxuICAgIHRoaXMueGxPbmx5ID0geGxcblxuICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgY2FzZSAoeHMpOlxuICAgICAgICB0aGlzLm5hbWUgPSAneHMnXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIChzbSk6XG4gICAgICAgIHRoaXMubmFtZSA9ICdzbSdcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgKG1kKTpcbiAgICAgICAgdGhpcy5uYW1lID0gJ21kJ1xuICAgICAgICBicmVha1xuICAgICAgY2FzZSAobGcpOlxuICAgICAgICB0aGlzLm5hbWUgPSAnbGcnXG4gICAgICAgIGJyZWFrXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLm5hbWUgPSAneGwnXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgLy8gQ3Jvc3MtYnJvd3NlciBzdXBwb3J0IGFzIGRlc2NyaWJlZCBpbjpcbiAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTI0ODA4MVxuICBwcml2YXRlIGdldENsaWVudFdpZHRoICgpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIDAgLy8gU1NSXG4gICAgcmV0dXJuIE1hdGgubWF4KFxuICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IS5jbGllbnRXaWR0aCxcbiAgICAgIHdpbmRvdy5pbm5lcldpZHRoIHx8IDBcbiAgICApXG4gIH1cblxuICBwcml2YXRlIGdldENsaWVudEhlaWdodCAoKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiAwIC8vIFNTUlxuICAgIHJldHVybiBNYXRoLm1heChcbiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCEuY2xpZW50SGVpZ2h0LFxuICAgICAgd2luZG93LmlubmVySGVpZ2h0IHx8IDBcbiAgICApXG4gIH1cbn1cbiJdfQ==