import pad from './pad';
function createNativeLocaleFormatter(locale, options, substrOptions = { start: 0, length: 0 }) {
    const makeIsoString = (dateString) => {
        const [year, month, date] = dateString.trim().split(' ')[0].split('-');
        return [pad(year, 4), pad(month || 1), pad(date || 1)].join('-');
    };
    try {
        const intlFormatter = new Intl.DateTimeFormat(locale || undefined, options);
        return (dateString) => intlFormatter.format(new Date(`${makeIsoString(dateString)}T00:00:00+00:00`));
    }
    catch (e) {
        return (substrOptions.start || substrOptions.length)
            ? (dateString) => makeIsoString(dateString).substr(substrOptions.start || 0, substrOptions.length)
            : undefined;
    }
}
export default createNativeLocaleFormatter;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlTmF0aXZlTG9jYWxlRm9ybWF0dGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvdXRpbC9jcmVhdGVOYXRpdmVMb2NhbGVGb3JtYXR0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxHQUFHLE1BQU0sT0FBTyxDQUFBO0FBbUJ2QixTQUFTLDJCQUEyQixDQUNsQyxNQUEwQixFQUMxQixPQUFtQyxFQUNuQyxnQkFBK0IsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUU7SUFFdEQsTUFBTSxhQUFhLEdBQUcsQ0FBQyxVQUFrQixFQUFFLEVBQUU7UUFDM0MsTUFBTSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLEdBQUcsVUFBVSxDQUFDLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDdEUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQ2xFLENBQUMsQ0FBQTtJQUVELElBQUk7UUFDRixNQUFNLGFBQWEsR0FBRyxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxJQUFJLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQTtRQUMzRSxPQUFPLENBQUMsVUFBa0IsRUFBRSxFQUFFLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxJQUFJLElBQUksQ0FBQyxHQUFHLGFBQWEsQ0FBQyxVQUFVLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFBO0tBQzdHO0lBQUMsT0FBTyxDQUFDLEVBQUU7UUFDVixPQUFPLENBQUMsYUFBYSxDQUFDLEtBQUssSUFBSSxhQUFhLENBQUMsTUFBTSxDQUFDO1lBQ2xELENBQUMsQ0FBQyxDQUFDLFVBQWtCLEVBQUUsRUFBRSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLEtBQUssSUFBSSxDQUFDLEVBQUUsYUFBYSxDQUFDLE1BQU0sQ0FBQztZQUMxRyxDQUFDLENBQUMsU0FBUyxDQUFBO0tBQ2Q7QUFDSCxDQUFDO0FBRUQsZUFBZSwyQkFBMkIsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwYWQgZnJvbSAnLi9wYWQnXG5pbXBvcnQgeyBEYXRlUGlja2VyRm9ybWF0dGVyIH0gZnJvbSAndHlwZXMnXG5cbmludGVyZmFjZSBTdWJzdHJPcHRpb25zIHtcbiAgc3RhcnQ/OiBudW1iZXJcbiAgbGVuZ3RoOiBudW1iZXJcbn1cblxuZnVuY3Rpb24gY3JlYXRlTmF0aXZlTG9jYWxlRm9ybWF0dGVyIChcbiAgbG9jYWw6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgb3B0aW9uczogSW50bC5EYXRlVGltZUZvcm1hdE9wdGlvbnNcbik6IERhdGVQaWNrZXJGb3JtYXR0ZXIgfCB1bmRlZmluZWRcblxuZnVuY3Rpb24gY3JlYXRlTmF0aXZlTG9jYWxlRm9ybWF0dGVyIChcbiAgbG9jYWw6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgb3B0aW9uczogSW50bC5EYXRlVGltZUZvcm1hdE9wdGlvbnMsXG4gIHN1YnN0ck9wdGlvbnM6IFN1YnN0ck9wdGlvbnNcbik6IERhdGVQaWNrZXJGb3JtYXR0ZXJcblxuZnVuY3Rpb24gY3JlYXRlTmF0aXZlTG9jYWxlRm9ybWF0dGVyIChcbiAgbG9jYWxlOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gIG9wdGlvbnM6IEludGwuRGF0ZVRpbWVGb3JtYXRPcHRpb25zLFxuICBzdWJzdHJPcHRpb25zOiBTdWJzdHJPcHRpb25zID0geyBzdGFydDogMCwgbGVuZ3RoOiAwIH1cbik6IERhdGVQaWNrZXJGb3JtYXR0ZXIgfCB1bmRlZmluZWQge1xuICBjb25zdCBtYWtlSXNvU3RyaW5nID0gKGRhdGVTdHJpbmc6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IFt5ZWFyLCBtb250aCwgZGF0ZV0gPSBkYXRlU3RyaW5nLnRyaW0oKS5zcGxpdCgnICcpWzBdLnNwbGl0KCctJylcbiAgICByZXR1cm4gW3BhZCh5ZWFyLCA0KSwgcGFkKG1vbnRoIHx8IDEpLCBwYWQoZGF0ZSB8fCAxKV0uam9pbignLScpXG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IGludGxGb3JtYXR0ZXIgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChsb2NhbGUgfHwgdW5kZWZpbmVkLCBvcHRpb25zKVxuICAgIHJldHVybiAoZGF0ZVN0cmluZzogc3RyaW5nKSA9PiBpbnRsRm9ybWF0dGVyLmZvcm1hdChuZXcgRGF0ZShgJHttYWtlSXNvU3RyaW5nKGRhdGVTdHJpbmcpfVQwMDowMDowMCswMDowMGApKVxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIChzdWJzdHJPcHRpb25zLnN0YXJ0IHx8IHN1YnN0ck9wdGlvbnMubGVuZ3RoKVxuICAgICAgPyAoZGF0ZVN0cmluZzogc3RyaW5nKSA9PiBtYWtlSXNvU3RyaW5nKGRhdGVTdHJpbmcpLnN1YnN0cihzdWJzdHJPcHRpb25zLnN0YXJ0IHx8IDAsIHN1YnN0ck9wdGlvbnMubGVuZ3RoKVxuICAgICAgOiB1bmRlZmluZWRcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVOYXRpdmVMb2NhbGVGb3JtYXR0ZXJcbiJdfQ==